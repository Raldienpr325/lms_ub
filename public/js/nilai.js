const userAnswers = [
    { questionIndex: 0, selectedOption: 1 },
    { questionIndex: 1, selectedOption: 2 },
    { questionIndex: 2, selectedOption: 2 },
    { questionIndex: 3, selectedOption: 2 },
    { questionIndex: 4, selectedOption: 2 },
    { questionIndex: 5, selectedOption: 2 },
    { questionIndex: 6, selectedOption: 2 },
    { questionIndex: 7, selectedOption: 2 },
    { questionIndex: 8, selectedOption: 2 },
    { questionIndex: 9, selectedOption: 2 },
    { questionIndex: 10, selectedOption: 2 },
    { questionIndex: 11, selectedOption: 2 },
    { questionIndex: 12, selectedOption: 2 },
    { questionIndex: 13, selectedOption: 2 },
    { questionIndex: 14, selectedOption: 2 },
    { questionIndex: 15, selectedOption: 2 },
    { questionIndex: 16, selectedOption: 2 },
    { questionIndex: 17, selectedOption: 2 },
    { questionIndex: 18, selectedOption: 2 },
];

const questions = [
    {
        question:
            'Pada tahun berapakah Indonesia secara resmi memproklamasikan kemerdekaannya dari penjajahan Belanda di Gedung Proklamasi?',
        options: [
            { text: '1942', isCorrect: false },
            { text: '1943', isCorrect: false },
            { text: '1944', isCorrect: false },
            { text: '1945', isCorrect: true },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
    {
        question:
            'Siapakah pemimpin yang memimpin perundingan Linggarjati pada tahun 1947, yang menghasilkan kesepakatan antara Belanda dan Indonesia untuk pembentukan Republik Indonesia Serikat (RIS)',
        options: [
            { text: 'Soekarno', isCorrect: false },
            { text: 'Hatta', isCorrect: false },
            { text: 'Sutan Sjahrir', isCorrect: true },
            { text: 'Mohammad Roem', isCorrect: false },
        ],
        answer: null,
    },
];

function checkAnswers() {
    const quizResults = document.getElementById('quiz-results');
    const numberOfQuestions = document.querySelector('.numberOfQuestions');
    const correctAnswer = document.querySelector('.correctAnswer');
    const quizGrades = document.querySelector('.quizGrades');

    questions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'result mb-8';

        const questionText = document.createElement('div');
        questionText.className =
            'bg-white py-4 px-6 mb-4 rounded-md border border-gray-200';

        questionDiv.appendChild(questionText);

        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'options flex flex-col gap-6 px-6';

        const optionLetters = ['A', 'B', 'C', 'D'];

        q.options.forEach((option, optionIndex) => {
            const optionLabel = document.createElement('label');
            optionLabel.className = 'option flex items-start text-secondary';

            // Buat elemen div yang akan mewakili pilihan jawaban
            const optionElement = document.createElement('div');
            optionElement.className =
                'w-4 h-4 flex items-center justify-center bg-gray-100 rounded-full border border-gray-300 p-[2px] mr-2 mt-1';
            optionElement.innerHTML = `
                <div class="w-[10px] h-[10px] bg-transparent"></div>
            `;

            if (
                userAnswers.some(
                    (ua) =>
                        ua.questionIndex === index &&
                        ua.selectedOption === optionIndex
                )
            ) {
                if (option.isCorrect) {
                    optionLabel.classList.add('correct');
                    optionElement.className =
                        'w-4 h-4 flex items-center justify-center bg-gray-100 rounded-full border border-green-500 p-[2px] mr-2 mt-1';
                    optionElement.innerHTML = `
                                <div class="w-[10px] h-[10px] bg-green-500 rounded-full border border-green-500"></div>
                            `;
                    questionText.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-secondary text-lg font-semibold">Soal ${
                                index + 1
                            } :</div>
                            <div class="flex gap-2 items-center py-1.5 px-3 rounded-md text-xs font-semibold bg-green-50 border border-green-300 text-green-700">
                                <ion-icon name="checkmark-circle"></ion-icon>
                                <p>Benar</p>
                            </div>
                        </div>
                        <p class="text-[15px] leading-6 text-secondary">${
                            q.question
                        }</p>
                    `;
                } else {
                    optionLabel.classList.add('wrong');
                    optionElement.className =
                        'w-4 h-4 flex items-center justify-center bg-gray-100 rounded-full border border-red-500 p-[2px] mr-2 mt-1';
                    optionElement.innerHTML = `
                                <div class="w-[10px] h-[10px] bg-red-500 rounded-full border border-red-500"></div>
                            `;
                    questionText.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-secondary text-lg font-semibold">Soal ${
                                index + 1
                            } :</div>
                            <div class="flex gap-2 items-center py-1.5 px-3 rounded-md text-xs font-semibold bg-red-50 border border-red-300 text-red-700">
                                <ion-icon name="close-circle"></ion-icon>
                                <p>Salah</p>
                            </div>
                        </div>
                        <p class="text-[15px] leading-6 text-secondary">${
                            q.question
                        }</p>
                    `;
                }
            }

            // Tampilkan teks opsi pada elemen div
            const optionText = document.createElement('div');
            optionText.className = 'flex';
            optionText.innerHTML = `<span>${optionLetters[optionIndex]}.</span><span class="ml-2">${option.text}</span>`;

            optionLabel.appendChild(optionElement);
            optionLabel.appendChild(optionText);

            // Tambahkan elemen div ke dalam label

            optionsDiv.appendChild(optionLabel);
        });

        questionDiv.appendChild(optionsDiv);

        quizResults?.appendChild(questionDiv);
    });

    const correctAnswers = userAnswers.filter((ua) => {
        const question = questions[ua.questionIndex];
        return question.options[ua.selectedOption].isCorrect;
    });

    // Tampilkan informasi jumlah soal, jumlah jawaban benar, dan nilai
    const totalQuestions = questions.length;
    const totalCorrect = correctAnswers.length;
    const score = parseInt((totalCorrect / totalQuestions) * 100, 10);

    numberOfQuestions && (numberOfQuestions.textContent = totalQuestions);
    correctAnswer && (correctAnswer.textContent = totalCorrect);
    quizGrades && (quizGrades.textContent = score);

    if (score < 50) {
        quizGrades?.classList.add('text-red-500');
    } else if (score > 50 && score < 80) {
        quizGrades?.classList.add('text-yellow-500');
    } else {
        quizGrades?.classList.add('text-green-500');
    }
}

checkAnswers();
